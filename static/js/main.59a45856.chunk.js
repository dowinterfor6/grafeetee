(this.webpackJsonpgrafeetee=this.webpackJsonpgrafeetee||[]).push([[0],{197:function(e,t,c){"use strict";c.r(t);var n=c(3),a=c(0),s=c.n(a),o=c(74),r=c.n(o),i=(c(85),c(5)),l=function(e){var t=e.state,c=e.SPRAY_PAINT,s=Object(a.useRef)(),o=Object(a.useState)(0),r=Object(i.a)(o,2),l=r[0],u=r[1],j=Object(a.useState)(0),d=Object(i.a)(j,2),b=d[0],O=d[1],f=Object(a.useState)(),h=Object(i.a)(f,2),S=h[0],p=h[1];Object(a.useEffect)((function(){v(),window.addEventListener("resize",v),p(s.current.getContext("2d"))}),[]);var v=function(){s.current.width=s.current.offsetWidth,s.current.height=s.current.offsetHeight};return Object(n.jsx)("section",{className:"canvas-container",children:Object(n.jsx)("canvas",{id:"canvas",ref:s,onMouseMove:function(e){u(e.clientX),O(e.clientY),1===e.buttons&&t.activeTool===c&&S&&(S.strokeStyle=t.color,S.lineCap="round",S.lineJoin="round",S.globalAlpha=1,S.lineWidth=t.thickness,S.lineTo(l,b),S.stroke())},onMouseDown:function(){S.beginPath(),S.moveTo(l,b)},onMouseUp:function(){S.closePath()}})})},u=c(10),j=c(9),d=c(79),b=function(e){var t=e.open,c=e.dispatch,a=e.state,s=e.SET_THICKNESS,o=(e.SET_HARDNESS,function(e){var t=e.currentTarget;t.value<1||t.value>500||c({type:s,payload:parseInt(t.value)})});return Object(n.jsx)("div",{className:"options-container ".concat(t?"open":""),children:Object(n.jsxs)("label",{children:[Object(n.jsxs)("div",{className:"label-title",children:["Thickness:",Object(n.jsx)("input",{type:"number",value:a.thickness,onChange:o})]}),Object(n.jsx)("input",{className:"slider-input",type:"range",min:1,max:500,value:a.thickness,onChange:o})]})})},O=function(e){var t=e.dispatch,c=e.state,s=e.SET_COLOR,o=e.SET_TOOL,r=e.SET_THICKNESS,l=e.SET_HARDNESS,O=e.SPRAY_PAINT,f=Object(a.useState)(!1),h=Object(i.a)(f,2),S=h[0],p=h[1],v=Object(a.useState)(!1),T=Object(i.a)(v,2),x=T[0],g=T[1],E=Object(a.useState)(!1),N=Object(i.a)(E,2),m=N[0],R=N[1],C=Object(a.useState)("#000"),y=Object(i.a)(C,2),k=y[0],A=y[1],_=Object(a.useState)(),I=Object(i.a)(_,2),P=I[0],H=I[1],w=Object(a.useState)(),L=Object(i.a)(w,2),z=L[0],M=L[1],D=Object(a.useRef)(),Y=Object(a.useRef)(),K=Object(a.useRef)(),B=Object(a.useRef)(),J=[D,Y,K],U=document.getElementById("canvas"),X=function(e){var c=e.classList,n=e.dataset;t({type:o,payload:n.tool}),J.forEach((function(e){e.current.classList.remove("active")})),c.add("active")},W=function(e){var t=e.currentTarget;g(!1),R(!1),X(t)},q=function(e){W(e),H(e.screenX),M(e.screenY);var t=B.current.getBoundingClientRect(),c=t.top,n=t.left;B.current.style.top="".concat(c,"px"),B.current.style.left="".concat(n,"px"),B.current.style.transform=""};return Object(n.jsxs)("aside",{className:"sidebar-container",ref:B,children:[Object(n.jsxs)("div",{className:"sidebar-controls",children:[Object(n.jsx)("div",{className:"icon drag",onMouseDown:q,onMouseMove:function(e){var t=e.screenX,c=e.screenY;1===e.buttons&&(B.current.style.transform="translate(".concat(t-P,"px, ").concat(c-z,"px"),console.log(B.current.getBoundingClientRect()))},onMouseUp:q,children:Object(n.jsx)(j.a,{icon:u.a,size:"lg"})}),Object(n.jsx)("div",{className:"icon close",onClick:function(){return p(!S)},children:Object(n.jsx)(j.a,{icon:u.c,size:"lg"})})]}),Object(n.jsxs)("div",{className:"sidebar-main ".concat(S?"hide":""),children:[Object(n.jsx)("div",{className:"icon spraypaint",ref:D,onClick:W,"data-tool":O,children:Object(n.jsx)(j.a,{icon:u.f,size:"lg"})}),Object(n.jsxs)("div",{className:"icon more-options",ref:K,onClick:function(e){var t=e.currentTarget;g(!1),R(!0),X(t)},children:[Object(n.jsx)(j.a,{icon:u.b,size:"lg"}),Object(n.jsx)(b,{open:m,dispatch:t,state:c,SET_THICKNESS:r,SET_HARDNESS:l})]}),Object(n.jsxs)("div",{className:"icon color-picker-icon",ref:Y,onClick:function(e){var t=e.currentTarget;R(!1),g(!0),X(t)},children:[Object(n.jsx)(j.a,{icon:u.d,size:"lg"}),Object(n.jsx)(d.a,{className:"color-picker ".concat(x?"active":""),color:k,onChange:function(e){A(e),t({type:s,payload:e.hex})}})]}),Object(n.jsx)("a",{className:"icon save",download:"grafeetee.png",onClick:function(e){if(U){var t=U.toDataURL();e.currentTarget.href=t}},href:"/",children:Object(n.jsx)(j.a,{icon:u.e,size:"lg"})}),Object(n.jsx)("div",{className:"icon delete",onClick:function(){U&&U.getContext("2d").clearRect(0,0,U.width,U.height)},children:Object(n.jsx)(j.a,{icon:u.g,size:"lg"})})]})]})},f=function(){var e="SETCOLOR",t="SETTOOL",c="SETTHICKNESS",s="SETHARDNESS",o="SPRAYPAINT",r={color:"#000",activeTool:o,thickness:50,hardness:50},u=Object(a.useReducer)((function(n,a){Object.freeze(n);var o=Object.assign({},n);switch(a.type){case e:return o.color=a.payload,o;case t:return o.activeTool=a.payload,o;case c:return o.thickness=a.payload,o;case s:return o.hardness=a.payload,o;default:return n}}),r),j=Object(i.a)(u,2),d=j[0],b=j[1];return Object(n.jsxs)("section",{className:"app-container",children:[Object(n.jsx)(O,{dispatch:b,state:d,SET_COLOR:e,SET_TOOL:t,SET_THICKNESS:c,SET_HARDNESS:s,SPRAY_PAINT:o}),Object(n.jsx)(l,{state:d,SPRAY_PAINT:o})]})};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(f,{})}),document.getElementById("root"))},85:function(e,t,c){}},[[197,1,2]]]);
//# sourceMappingURL=main.59a45856.chunk.js.map